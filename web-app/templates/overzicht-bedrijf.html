<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="..\static\css\style.css">
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
    <title>Dashboard</title>
</head>
<body>

  <div class="navbar">
    {% for company in nav %}
    <div class="navbar-item">
      <a href="/company?id={{ company[0] }}">{{ company[1] }}</a>
    </div>
    {% endfor %}
  </div>

  <div class="body-content">
    <div>
      <a href="/">Terug naar home.</a>
    </div>

    <h1>Bedrijfsinformatie</h1>
    <div class="information">
        <div class="basic-info">
            <table>
                <tr><td>Naam: </td><td>{{ result[0][1] }}</td></tr>
                <tr><td>Site: </td><td>{{ result[0][2] }}</td></tr>
                <tr><td>Soort vereniging: </td><td>{{ result[0][3] }}</td></tr>
                <tr><td>B2B/B2C: </td><td>{{ result[0][4] }}</td></tr>
                <tr><td>Sector: </td><td>{{ result[0][5] }}</td></tr>
            </table>
        </div>

        <div class="searchwords">
          {% if result[0][7] != None %}
            <table class="table-searchwords">
                <tr>
                    <th>Woord</th>
                    <th>Voorkomens</th>
                </tr>

                  {% for searchword in result[0][7] %}
                  <tr>
                    <td>{{ searchword[0] }}</td> 
                    <td>{{ searchword[1] }}</td>
                  </tr>
                {% endfor %}
            </table>
            {% endif %}
        </div>
    </div>

    <h1>Grafieken</h1>
    <div class="charts">
        <div class="chart">
            <h3>Environment</h3>
            <canvas id="scores_e"></canvas>
        </div>
      
        <div class="chart">
            <h3>Social</h3>
            <canvas id="scores_s"></canvas>
        </div>
      
        <div class="chart">
            <h3>Governance</h3>
            <canvas id="scores_g"></canvas>
        </div>
    </div>


    <div class="charts">
        <div class="chart">
            <h3>Domeinscores</h3>
            <canvas id="domains"></canvas>
        </div>
    </div>
</div>
    </body>
</div>
</html>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        var result = {{ result | tojson }};
        var subdomains_environment = result[0][13]
        var subdomains_social = result[0][14]
        var subdomains_governance = result[0][15]
        var environment_score = result[0][16];
        var social_score = result[0][17];
        var governance_score = result[0][18];
    </script>

    <script>
      var ctx = document.getElementById("domains").getContext("2d");
      const myChart = new Chart(ctx, {
        type: "bar",
        data: {
          labels: ["Environment", "Social", "Governance"],
          datasets: [
            {
              label: "Percentiel",
              data: [environment_score, social_score, governance_score],
              borderWidth: 1,
            },
          ],
        },
      });
    </script>


<script>
    var ctx = document.getElementById("scores_e").getContext("2d");
    const chart_env = new Chart(ctx, {
      type: "bar",
      data: {
        labels: ["resource use", "pollution", "climate change", "water & marine resources", "biodiversity"],
        datasets: [
          {
            label: "Percentiel",
            data: subdomains_environment,
            borderWidth: 1,
          },
        ],
      },
    });
  </script>


<script>
    var ctx = document.getElementById("scores_s").getContext("2d");
    const chart_soc = new Chart(ctx, {
      type: "bar",
      data: {
        labels: ["own workforce", "workers in the value chain", "affected communities", "consumers/end-users"],
        datasets: [
          {
            label: "Percentiel",
            data: subdomains_social,
            borderWidth: 1,
          },
        ],
      },
    });
  </script>


<script>
    var ctx = document.getElementById("scores_g").getContext("2d");
    const chart_gov = new Chart(ctx, {
      type: "bar",
      data: {
        labels: ["business conduct", "risk management & internal control"],
        datasets: [
          {
            label: "Percentiel",
            data: subdomains_governance,
            borderWidth: 1,
          },
        ],
      },
    });
  </script>
